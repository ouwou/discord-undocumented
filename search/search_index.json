{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"discord-undocumented","text":"<p>Documentation for various parts of Discord's API that are otherwise undocumented. This primarily includes things I've had to figure out myself while implementing my third-party client or other things out of interest.</p> <p>See the sidebar on the left for a list of topics.</p>"},{"location":"account_verification/","title":"Account Verification","text":"<p>When Discord thinks you might be a spammer or doing something naughty it will send <code>USER_REQUIRED_ACTION_UPDATE</code> as described below</p>"},{"location":"account_verification/#user-required-action-update-dispatch-event","title":"User Required Action Update Dispatch Event","text":"Field Type Description required_action string type of required action. see below"},{"location":"account_verification/#required-action-type","title":"Required Action Type","text":"Name Description REQUIRE_CAPTCHA user must complete a captcha REQUIRE_VERIFIED_EMAIL user must verify an email REQUIRE_VERIFIED_PHONE user must verify with a phone number"},{"location":"account_verification/#send-phone-verification-code","title":"Send Phone Verification Code","text":"<p>POST <code>/users/@me/phone</code> Returns 204 No Content on success JSON parameters:</p> Field Type Description phone string phone number in format \"+1234567890\" <p>Errors:</p> Error Description 50022 Invalid phone number"},{"location":"account_verification/#verify-phone-with-code","title":"Verify Phone with Code","text":"<p>POST <code>/phone-verifications/verify</code> Returns 400 Bad Request on bad code or 200 OK on success JSON parameters:</p> Field Type Description code string the verification code phone string phone number in format \"+1234567890\" <p>Return object:</p> Field Type Description token string token used to finalize verification"},{"location":"account_verification/#finalize-phone-verification","title":"Finalize Phone Verification","text":"<p>POST <code>/users/@me/phone</code> Returns 204 No Content on success JSON parameters:</p> Field Type Description password string account password phone_token string token received from Verify Phone with Code"},{"location":"affinities/","title":"Affinities","text":"<p>As of June 2023, these endpoints appear to return the below objects, but with no data.</p>"},{"location":"affinities/#user-affinities","title":"User Affinities","text":"<p>Unknown. Presumably values indicating who the user communicates with most</p>"},{"location":"affinities/#get-user-affinities","title":"Get User Affinities","text":"<p>GET <code>/users/@me/affinities/users</code></p> <p>Returns:</p> Field Type Description user_affinities array of user affinity objects list of user affinities inverse_user_affinities unknown unknown"},{"location":"affinities/#user-affinity-object","title":"User Affinity Object","text":"Field Type Description user_id snowflake the id of the user affinity decimal number the affinity of the user"},{"location":"affinities/#guild-affinities","title":"Guild Affinities","text":"<p>Unknown. Presumably values indicating what guilds the user communicates in the most</p>"},{"location":"affinities/#get-guild-affinities","title":"Get Guild Affinities","text":"<p>GET <code>/users/@me/affinities/guilds</code></p> <p>Returns:</p> Field Type Description guild_affinities array of guild affinity objects list of guild affinities"},{"location":"affinities/#guild-affinity-object","title":"Guild Affinity Object","text":"Field Type Description guild_id snowflake the id of the guild affinity decimal number the affinity of the guild"},{"location":"bulk_member_role/","title":"Bulk Add Member Role","text":"<p>PATCH <code>/guilds/{guild.id}/roles/{role.id}/members</code> Assign multiple members a role at once Returns map from user ids to member objects</p> <p>JSON parameters:</p> Field Type Description member_ids array of snowflake list of members to give the role to"},{"location":"capabilities/","title":"Capabilities","text":"<p>Capabilities is a field (<code>capabilities</code>) within the IDENTIFY payload that communicates what the client is \"capable\" of. Unfortunately this means Discord's API does weird things that don't match what the documentation says.</p> <p>The following capability names are arbitrary and not taken from Discord since Discord does not name each bit, but hardcodes their value.</p> Key Value Description LAZY_USER_NOTES 1 &lt;&lt; 0 don't send user notes in <code>READY</code> NO_AFFINE_USER_IDS 1 &lt;&lt; 1 VERSIONED_READ_STATES 1 &lt;&lt; 2 VERSIONED_USER_GUILD_SETTINGS 1 &lt;&lt; 3 DEDUPLICATE_USER_OBJECTS 1 &lt;&lt; 4 PRIORITIZED_READY_PAYLOAD 1 &lt;&lt; 5 responsible for sending <code>READY_SUPPLEMENTAL</code> MULTIPLE_GUILD_EXPERIMENT_POPULATIONS 1 &lt;&lt; 6 NON_CHANNEL_READ_STATES 1 &lt;&lt; 7 AUTH_TOKEN_REFRESH 1 &lt;&lt; 8 USER_SETTINGS_PROTO 1 &lt;&lt; 9 <code>user_settings</code> in the READY message will be omitted CLIENT_STATE_V2 1 &lt;&lt; 10 heavily alters the guild object PASSIVE_GUILD_UPDATE 1 &lt;&lt; 11 causes the gateway to send <code>PASSIVE_UPDATE_V1</code> events AUTO_CALL_CONNECT 1 &lt;&lt; 12 causes the gateway to send <code>CALL_CONNECT</code> for active calls at time of connection instead of requiring manual request DEBOUNCE_MESSAGE_REACTIONS 1 &lt;&lt; 13 causes gateway to send <code>MESSAGE_REACTION_ADD_MANY</code> instead of rapid <code>MESSAGE_REACTION_ADD</code> events <p>As of 3 July 2023, Discord uses 16381 which corresponds to all bits except NO_AFFINE_USER_IDS</p>"},{"location":"capabilities/#user_settings_proto","title":"USER_SETTINGS_PROTO","text":"<p>Forces usage of the <code>user_settings_proto</code> field which uses Google's protobuf instead of the standard <code>user_settings</code>. The reconstructed .proto is available here</p>"},{"location":"capabilities/#client_state_v2","title":"CLIENT_STATE_V2","text":"<p>The following fields of the guild object are moved into a new field called <code>properties</code>:</p> <ul> <li><code>afk_channel_id</code></li> <li><code>afk_timeout</code></li> <li><code>application_id</code></li> <li><code>banner</code></li> <li><code>default_message_notifications</code></li> <li><code>description</code></li> <li><code>discovery_splash</code></li> <li><code>explicit_content_filter</code></li> <li><code>features</code></li> <li><code>guild_hashes</code> (removed)</li> <li><code>home_header</code></li> <li><code>hub_type</code></li> <li><code>icon</code></li> <li><code>latest_onboarding_question_id</code></li> <li><code>max_members</code></li> <li><code>max_stage_video_channel_users</code></li> <li><code>max_video_channel_users</code></li> <li><code>mfa_level</code></li> <li><code>name</code></li> <li><code>nsfw</code></li> <li><code>nsfw_level</code></li> <li><code>owner_id</code></li> <li><code>preferred_locale</code></li> <li><code>premium_progress_bar_enabled</code></li> <li><code>premium_tier</code></li> <li><code>public_updates_channel_id</code></li> <li><code>region</code> (removed)</li> <li><code>rules_channel_id</code></li> <li><code>safety_alerts_channel_id</code></li> <li><code>splash</code></li> <li><code>system_channel_flags</code></li> <li><code>system_channel_id</code></li> <li><code>vanity_url_code</code></li> <li><code>verification_level</code></li> </ul> <p>The <code>version</code> field in channel and other objects within guild are removed.</p> <p>The <code>data_mode</code> field is added to the guild object. Currently seems to always be \"full.\"</p>"},{"location":"capabilities/#passive_guild_update","title":"PASSIVE_GUILD_UPDATE","text":"<p>Causes a <code>PASSIVE_UPDATE_V1</code> dispatch event to be sent periodically instead of <code>CHANNEL_UNREADS_UPDATE</code></p>"},{"location":"capabilities/#passive_update_v1-object","title":"PASSIVE_UPDATE_V1 object","text":"Field Type Description voice_states array of voice state voice states for users in the guild members array of guild member some of the members guild_id snowflake the guild the update is for channels array of read state entries read state of the guild"},{"location":"capabilities/#unnamed-bit-12","title":"Unnamed bit 12","text":"<p>Behavior unknown. Only changed observed so far is <code>CALL_CREATE</code> events being fired for calls that are active at time of connection</p>"},{"location":"capabilities/#unnamed-bit-13","title":"Unnamed bit 13","text":"<p>Causes the gateway to send <code>MESSAGE_REACTION_ADD_MANY</code> events.</p>"},{"location":"capabilities/#message_reaction_add_many-object","title":"MESSAGE_REACTION_ADD_MANY object","text":"Field Type Description guild_id snowflake guild the message is in channel_id snowflake channel the message is in message_id snowflake message reactions are being added to reactions array of many reaction objects reactions that were added"},{"location":"capabilities/#many-reaction-object","title":"many reaction object","text":"Field Type Description users array of snowflake users who added the reaction emoji partial emoji object emoji information"},{"location":"create_guild/","title":"Create Guild Extra Parameters","text":"<p>Original documentation</p> <p>Extra JSON parameters:</p> Field Type Description guild_template_code string template to use when creating the guild"},{"location":"create_guild/#guild-template-codes","title":"Guild Template Codes","text":"Code Description 2TffvPucqHkN Blank (CREATE) hvtBQMfw6uSJ Gaming hgM48av5Q69A Friends FbwUwRp4j8Es Study s4WNnBxTDPsY Clubs 6exdzMgjZgah Creators 64UDvRNCC52Y Local Community Ctg7PUHcQmZu School Club"},{"location":"dms/","title":"DMs","text":""},{"location":"dms/#create-dm","title":"Create DM","text":"<p>POST <code>/users/@me/channels</code> Creates a new DM. Even though the official docs suggest a different request for creating a new DM with one user, the official client still uses a 1-element array.</p> <p>Returns a channel object</p> Warning <p>This endpoint is known to upset Discord's spam filter. Be careful!</p> <p>JSON parameters:</p> Field Type Description recipients array of snowflake array of user ids who should be added to the dm"},{"location":"dms/#close-dm","title":"Close DM","text":"<p>DELETE <code>/channels/{channel.id}</code></p>"},{"location":"dms/#add-group-dm-recipient","title":"Add Group DM Recipient","text":"<p>PUT <code>/channels/{channel.id}/recipients/{user.id}</code></p>"},{"location":"dms/#remove-group-dm-recipient","title":"Remove Group DM Recipient","text":"<p>DELETE <code>/channels/{channel.id}/recipients/{user.id}</code></p>"},{"location":"gateway_events/","title":"Gateway Events","text":"Warning <p>This list may not be complete. Some bot-only events are excluded.</p> Event Documented ACTIVITY_START \u274c ACTIVITY_USER_ACTION \u274c APPLICATION_COMMAND_AUTOCOMPLETE_RESPONSE \u274c APPLICATION_COMMAND_PERMISSIONS_UPDATE \u274c AUTH_SESSION_CHANGE \u274c AUTO_MODERATION_MENTION_RAID_DETECTION \u274c BILLING_POPUP_BRIDGE_CALLBACK \u274c BILLING_REFERRAL_TRIAL_OFFER_UPDATE \u274c BURST_CREDIT_BALANCE_UPDATE \u274c CALL_CREATE \u274c CALL_DELETE \u274c CALL_UPDATE \u274c CHANNEL_CREATE \u2705 CHANNEL_DELETE \u2705 CHANNEL_PINS_ACK \u274c CHANNEL_PINS_UPDATE \u2705 CHANNEL_RECIPIENT_ADD \u274c CHANNEL_RECIPIENT_REMOVE \u274c CHANNEL_UPDATE \u2705 CONSOLE_COMMAND_UPDATE \u274c CREATOR_MONETIZATION_RESTRICTIONS_UPDATE \u274c DELETED_ENTITY_IDS \u274c EMBEDDED_ACTIVITY_UPDATE \u274c ENTITLEMENT_CREATE \u274c ENTITLEMENT_DELETE \u274c ENTITLEMENT_UPDATE \u274c FORUM_UNREADS \u274c FRIEND_SUGGESTION_CREATE \u274c FRIEND_SUGGESTION_DELETE \u274c GENERIC_PUSH_NOTIFICATION_SENT \u274c GIFT_CODE_CREATE \u274c GIFT_CODE_UPDATE \u274c GUILD_APPLICATION_COMMAND_INDEX_UPDATE \u274c GUILD_BAN_ADD \u2705 GUILD_BAN_REMOVE \u2705 GUILD_CREATE \u2705 GUILD_DELETE \u2705 GUILD_DIRECTORY_ENTRY_CREATE \u274c GUILD_DIRECTORY_ENTRY_DELETE \u274c GUILD_DIRECTORY_ENTRY_UPDATE \u274c GUILD_EMOJIS_UPDATE \u2705 GUILD_FEATURE_ACK \u274c GUILD_INTEGRATIONS_UPDATE \u2705 GUILD_JOIN_REQUEST_CREATE \u274c GUILD_JOIN_REQUEST_DELETE \u274c GUILD_JOIN_REQUEST_UPDATE \u274c GUILD_MEMBER_ADD \u2705 GUILD_MEMBER_LIST_UPDATE \u274c GUILD_MEMBER_REMOVE \u2705 GUILD_MEMBER_UPDATE \u2705 GUILD_MEMBERS_CHUNK \u2705 GUILD_ROLE_CREATE \u2705 GUILD_ROLE_DELETE \u2705 GUILD_ROLE_UPDATE \u2705 GUILD_SCHEDULED_EVENT_CREATE \u2705 GUILD_SCHEDULED_EVENT_DELETE \u2705 GUILD_SCHEDULED_EVENT_UPDATE \u2705 GUILD_SCHEDULED_EVENT_USER_ADD \u2705 GUILD_SCHEDULED_EVENT_USER_REMOVE \u2705 GUILD_SOUNDBOARD_SOUND_CREATE \u274c GUILD_SOUNDBOARD_SOUND_DELETE \u274c GUILD_SOUNDBOARD_SOUND_UPDATE \u274c GUILD_SOUNDBOARD_SOUNDS_UPDATE \u274c GUILD_STICKERS_UPDATE \u2705 GUILD_UPDATE \u2705 INTEGRATION_CREATE \u2705 INTEGRATION_DELETE \u2705 INTERACTION_CREATE \u2705 INTERACTION_FAILURE \u274c INTERACTION_IFRAME_MODAL_CREATE \u274c INTERACTION_MODAL_CREATE \u274c INTERACTION_SUCCESS \u274c LAST_MESSAGES \u274c LIBRARY_APPLICATION_UPDATE \u274c LOBBY_CREATE \u274c LOBBY_DELETE \u274c LOBBY_MEMBER_CONNECT \u274c LOBBY_MEMBER_DISCONNECT \u274c LOBBY_MEMBER_UPDATE \u274c LOBBY_MESSAGE \u274c LOBBY_UPDATE \u274c LOBBY_VOICE_SERVER_UPDATE \u274c LOBBY_VOICE_STATE_UPDATE \u274c MESSAGE_ACK \u274c MESSAGE_CREATE \u2705 MESSAGE_DELETE \u2705 MESSAGE_DELETE_BULK \u2705 MESSAGE_REACTION_ADD \u2705 MESSAGE_REACTION_ADD_MANY \u274c MESSAGE_REACTION_REMOVE \u2705 MESSAGE_REACTION_REMOVE_ALL \u2705 MESSAGE_REACTION_REMOVE_EMOJI \u2705 MESSAGE_UPDATE \u2705 NOTIFICATION_CENTER_ITEM_COMPLETED \u274c NOTIFICATION_CENTER_ITEM_CREATE \u274c NOTIFICATION_CENTER_ITEM_DELETE \u274c NOTIFICATION_CENTER_ITEMS_ACK \u274c OAUTH2_TOKEN_REVOKE \u274c PASSIVE_UPDATE_V1 \u274c PAYMENT_UPDATE \u274c PRESENCE_UPDATE \u2705 PRESENCES_REPLACE \u274c PRIVATE_CHANNEL_INTEGRATION_CREATE \u274c PRIVATE_CHANNEL_INTEGRATION_DELETE \u274c PRIVATE_CHANNEL_INTEGRATION_UPDATE \u274c READY \u2705* READY_SUPPLEMENTAL \u274c RECENT_MENTION_DELETE \u274c RELATIONSHIP_ADD \u274c RELATIONSHIP_REMOVE \u274c RELATIONSHIP_UPDATE \u274c RESUMED \u274c SESSIONS_REPLACE \u274c SOUNDBOARD_SOUNDS \u274c SPEED_TEST_CREATE \u274c SPEED_TEST_DELETE \u274c SPEED_TEST_SERVER_UPDATE \u274c SPEED_TEST_UPDATE \u274c STAGE_INSTANCE_CREATE \u2705 STAGE_INSTANCE_DELETE \u2705 STAGE_INSTANCE_UPDATE \u2705 STREAM_CREATE \u274c STREAM_DELETE \u274c STREAM_SERVER_UPDATE \u274c STREAM_UPDATE \u274c THREAD_CREATE \u2705 THREAD_DELETE \u2705 THREAD_LIST_SYNC \u2705* THREAD_MEMBER_LIST_UPDATE \u274c THREAD_MEMBER_UPDATE \u2705 THREAD_MEMBERS_UPDATE \u2705 THREAD_UPDATE \u2705 TYPING_START \u2705 USER_ACHIEVEMENT_UPDATE \u274c USER_CONNECTIONS_LINK_CALLBACK \u274c USER_CONNECTIONS_UPDATE \u274c USER_GUILD_SETTINGS_UPDATE \u274c USER_NON_CHANNEL_ACK \u274c USER_NOTE_UPDATE \u274c USER_PAYMENT_CLIENT_ADD \u274c USER_PAYMENT_SOURCES_UPDATE \u274c USER_PREMIUM_GUILD_SUBSCRIPTION_SLOT_CREATE \u274c USER_PREMIUM_GUILD_SUBSCRIPTION_SLOT_UPDATE \u274c USER_REQUIRED_ACTION_UPDATE \u274c USER_SETTINGS_PROTO_UPDATE \u274c USER_SUBSCRIPTIONS_UPDATE \u274c USER_UPDATE \u2705 VOICE_CHANNEL_EFFECT_SEND \u274c VOICE_SERVER_UPDATE \u2705 VOICE_STATE_UPDATE \u2705 WEBHOOKS_UPDATE \u2705 <p>* - undocumented extra fields</p>"},{"location":"gateway_opcodes/","title":"Gateway Opcodes","text":"Opcode Name Documented Client Action Description 0 DISPATCH \u2705 Receive An event was dispatched. 1 HEARTBEAT \u2705 Send/Receive Fired periodically by the client to keep the connection alive. 2 IDENTIFY \u2705 Send Starts a new session during the initial handshake. 3 PRESENCE_UPDATE \u2705 Send Update the client's presence. 4 VOICE_STATE_UPDATE \u2705 Send Used to join/leave or move between voice channels. 5 VOICE_SERVER_PING \u274c Send 6 RESUME \u2705 Send Resume a previous session that was disconnected. 7 RECONNECT \u2705 Receive You should attempt to reconnect and resume immediately. 8 REQUEST_GUILD_MEMBERS \u2705 Send Request information about offline guild members in a large guild. 9 INVALID_SESSION \u2705 Receive The session has been invalidated. You should reconnect and identify/resume accordingly. 10 HELLO \u2705 Receive Sent immediately after connecting, contains the <code>heartbeat_interval</code> to use. 11 HEARTBEAT_ACK \u2705 Receive Sent in response to receiving a heartbeat to acknowledge that it has been received. 13 CALL_CONNECT \u274c Send 14 GUILD_SUBSCRIPTIONS \u274c Send Subscribe to sections of a guild's member list. 15 LOBBY_CONNECT \u274c Send Related to game invites/rich presence 16 LOBBY_DISCONNECT \u274c Send Related to game invites/rich presence 17 LOBBY_VOICE_STATES_UPDATE \u274c Send Related to game invites/rich presence 18 STREAM_CREATE \u274c Send Start a stream. 19 STREAM_DELETE \u274c Send End a stream or stop watching one. 20 STREAM_WATCH \u274c Send Joining a stream. 21 STREAM_PING \u274c Send 22 STREAM_SET_PAUSED \u274c Send Mark a stream as paused or unpaused. 24 REQUEST_GUILD_APPLICATION_COMMANDS \u274c Send Potentially unused. 25 EMBEDDED_ACTIVITY_LAUNCH \u274c Send Potentially unused. 26 EMBEDDED_ACTIVITY_CLOSE \u274c Send Leave an activity in a voice channel. 27 EMBEDDED_ACTIVITY_UPDATE \u274c Send Potentially unused. 28 REQUEST_FORUM_UNREADS \u274c Send Request the unread state of a forum channel. 29 REMOTE_COMMAND \u274c Send 30 GET_DELETED_ENTITY_IDS_NOT_MATCHING_HASH \u274c Send 31 REQUEST_SOUNDBOARD_SOUNDS \u274c Send Request guilds' soundboards 32 SPEED_TEST_CREATE \u274c Send 33 SPEED_TEST_DELETE \u274c Send 34 REQUEST_LAST_MESSAGES \u274c Send Potentially unused. 35 SEARCH_RECENT_MEMBERS \u274c Send Potentially unused."},{"location":"gateway_opcodes/#voice_server_ping","title":"VOICE_SERVER_PING","text":"<p>Unknown. <code>d</code> is null</p>"},{"location":"gateway_opcodes/#call_connect","title":"CALL_CONNECT","text":"<p>Unknown.</p> Field Type Description channel_id"},{"location":"gateway_opcodes/#lobby_connect","title":"LOBBY_CONNECT","text":"Field Type Description lobby_id lobby_secret"},{"location":"gateway_opcodes/#lobby_disconnect","title":"LOBBY_DISCONNECT","text":"Field Type Description lobby_id"},{"location":"gateway_opcodes/#lobby_voice_states_update","title":"LOBBY_VOICE_STATES_UPDATE","text":"Field Type Description lobby_id self_mute self_deaf"},{"location":"gateway_opcodes/#stream_create","title":"STREAM_CREATE","text":"<p>Used to start a stream.</p> Field Type Description type string type of the stream. <code>guild</code> guild_id snowflake guild the stream is in channel_id snowflake channel the stream is in preferred_region string preferred region to create the stream in"},{"location":"gateway_opcodes/#stream_delete","title":"STREAM_DELETE","text":"<p>Used to leave/end a stream</p> Field Type Description stream_key string"},{"location":"gateway_opcodes/#stream_watch","title":"STREAM_WATCH","text":"<p>Used when joining a stream.</p> Field Type Description stream_key string stream to join"},{"location":"gateway_opcodes/#stream_ping","title":"STREAM_PING","text":"<p>Unknown. <code>d</code> contains key <code>stream_key</code></p>"},{"location":"gateway_opcodes/#stream_set_paused","title":"STREAM_SET_PAUSED","text":"<p>Used to mark a stream as paused or unpaused</p> Field Type Description stream_key string stream key to mark as paused or unpaused paused boolean is the stream paused"},{"location":"gateway_opcodes/#embedded_activity_close","title":"EMBEDDED_ACTIVITY_CLOSE","text":"<p>Used when leaving an activity in a voice channel.</p> Field Type Description guild_id ?snowflake guild id the activity is in channel_id snowflake channel id the activity is in application_id snowflake"},{"location":"gateway_opcodes/#request_forum_unreads","title":"REQUEST_FORUM_UNREADS","text":"<p>Used to request the unread state of a forum channel. Gateway will send a <code>FORUM_UNREADS</code> dispatch event in response.</p> Field Type Description guild_id snowflake guild id of the forum channel channel_id snowflake channel id of the forum channel threads thread subobject list of threads to fetch unread state for"},{"location":"gateway_opcodes/#thread-subobject","title":"Thread subobject","text":"Field Type Description thread_id snowflake thread id ack_message_id snowflake id of last read message"},{"location":"gateway_opcodes/#get_deleted_entity_ids_not_matching_hash","title":"GET_DELETED_ENTITY_IDS_NOT_MATCHING_HASH","text":"Field Type Description guild_id snowflake channel_ids_hash array of string role_ids_hash array of string emoji_ids_hash array of string sticker_ids_hash array of string"},{"location":"gateway_opcodes/#request_soundboard_sounds","title":"REQUEST_SOUNDBOARD_SOUNDS","text":"<p>Request guilds' soundboards. Gateway will fire a <code>SOUNDBOARD_SOUNDS</code> dispatch event for each requested guild.</p> Field Type Description guild_ids array of snowflake guilds to fetch soundboards for"},{"location":"gateway_opcodes/#speed_test_create","title":"SPEED_TEST_CREATE","text":"<p>Unknown.</p> Field Type Description preferred_region"},{"location":"gateway_opcodes/#speed_test_delete","title":"SPEED_TEST_DELETE","text":"<p>Unknown. <code>d</code> is null.</p>"},{"location":"gateway_opcodes/#request_last_messages","title":"REQUEST_LAST_MESSAGES","text":"<p>Unknown.</p> Field Type Description guild_id channel_ids"},{"location":"gateway_opcodes/#search_recent_members","title":"SEARCH_RECENT_MEMBERS","text":"<p>Unknown.</p> Field Type Description guild_id query continuation_token"},{"location":"get_role_members/","title":"Get Role Members","text":"<p>GET <code>/guilds/{guild.id}/roles/{role.id}/member-ids</code> Retrieves up to 100 member IDs who have the given role Appears to require VIEW_AUDIT_LOG permission</p> <p>Returns array of snowflakes</p>"},{"location":"guild_avatars/","title":"Guild Avatars","text":"<p>Per-server avatars are implemented by adding a new optional/nullable(?) field <code>avatar</code> to the guild member object representing a hash like the <code>avatar</code> field of the user object.</p> <p>The asset can be accessed with this URL:</p> <p><code>https://cdn.discordapp.com/guilds/{guild.id}/users/{user.id}/avatars/{hash}.{ext}</code></p> <p>This URL likewise respects the size parameter</p>"},{"location":"guild_directories/","title":"Guild Directories","text":"<p>Guild directories are a special type of channel that serve as directories for servers. They are locked behind the <code>HUBS</code> guild feature.</p>"},{"location":"guild_directories/#get-directory-channel-entries","title":"Get Directory Channel Entries","text":"<p>GET <code>/channels/{channel.id}/directory-entries</code></p> <p>Returns array of Directory Entry</p>"},{"location":"guild_directories/#directory-entry-object","title":"Directory Entry Object","text":"Field Type Description directory_channel_id snowflake id of channel to which the entry belongs(?) entity_id snowflake id of the guild the entry is for type directory entry type the type of the entry author_id snowflake who created the entry created_at ISO-8601 timestamp when the entry was created description string description displayed for the entry name? ?string name of the entry icon? ?string icon of the entry splash? ?string splash of the guild features? ?array array of guild features approximate_member_count? ?number number of members approximate_presence_count? ?number number of online members"},{"location":"guild_directories/#directory-entry-type","title":"Directory Entry Type","text":"Name Value GUILD 0"},{"location":"guild_directories/#create-directory-entry","title":"Create Directory Entry","text":"<p>POST <code>/channels/{channel.id}/directory-entry/{entry.id}</code></p> <p>Request body:</p> Field Type Description description string description of the entry <p>Creates a new entry for the directory</p>"},{"location":"guild_discovery/","title":"Guild Discovery","text":""},{"location":"guild_discovery/#get-discovery-categories","title":"Get Discovery Categories","text":"<p>GET <code>/discovery/categories</code> Returns array of discovery category objects (unlocalized objects)</p> <p>GET parameters:</p> Name Type Description locale string locale to return. doesn't seem to do anything primary_only bool only return primary-level categories"},{"location":"guild_discovery/#discovery-category-object","title":"Discovery Category Object","text":"Field Type Description id integer unique id for the category is_primary bool whether this category can be set as a guild's primary category name string or localized name name of the category"},{"location":"guild_discovery/#localized-name-object","title":"Localized Name Object","text":"Field Type Description default string fallback localization string (english) localizations array of object, key is language code, value is string localized versions of the string"},{"location":"guild_discovery/#get-discoverable-guilds","title":"Get Discoverable Guilds","text":"<p>GET <code>/discoverable-guilds</code> Returns discoverable guilds response object</p> <p>GET parameters:</p> Name Type Description offset integer offset into the list of guilds limit integer limit of guilds to get categories integer category to limit response to"},{"location":"guild_discovery/#discoverable-guilds-response-object","title":"Discoverable Guilds Response Object","text":"Field Type Description limit integer limit given in request offset integer offset given in request total integer total number of matching guilds guilds array of guild objects with extra keys (see below) list of discoverable guilds <p>guilds object extra fields:</p> Field Type Description keywords array of string keywords of the guild primary_category_id(?) integer id of the primary category categories array of localized discovery category objects categories of the guild auto_removed(?) bool(?) unknown"},{"location":"guild_discovery/#join-discoverable-guild","title":"Join Discoverable Guild","text":"<p>PUT <code>/guilds/{guild.id}/members/@me</code> Returns a guild object The official client also adds the GET parameters <code>lurker=false</code> though it's unclear what difference this makes</p>"},{"location":"guild_discovery/#searching-discoverable-guilds","title":"Searching Discoverable Guilds","text":"<p>Discord uses Algolia with key <code>NKTZZ4AIZU</code> to search for guilds which is beyond the scope of this page GET <code>/discovery/valid-term?term={term}</code> will return <code>{\"valid\": true}</code> if a search term is valid</p>"},{"location":"guild_lurking/","title":"Guild Lurking","text":"<p>Guilds with the feature <code>PREVIEW_ENABLED</code> can be \"lurked\" in/previewed before actually joining. This is basically the same as joining except you are granted no permissions and are not counted as a member</p>"},{"location":"guild_lurking/#start-lurking","title":"Start Lurking","text":"<p>PUT <code>/guilds/{guild.id}/members/@me?lurker=true&amp;session_id={session.id}</code> Session ID is presumably the one found in the READY gateway message and you will be removed when this session expires Returns a guild object</p>"},{"location":"guild_lurking/#stop-lurking","title":"Stop Lurking","text":"<p>Same as Leave Guild</p>"},{"location":"join_leave_guild/","title":"Join/Leave Guild","text":""},{"location":"join_leave_guild/#join-guild","title":"Join Guild","text":"<p>POST <code>/invites/{invite.code}</code></p>"},{"location":"join_leave_guild/#leave-guild","title":"Leave Guild","text":"<p>DELETE <code>/users/@me/guilds/{guild.id}</code></p>"},{"location":"manage_discovery_partnership/","title":"Managing Guild Discovery and Partnership","text":""},{"location":"manage_discovery_partnership/#get-guild-discovery-requirements","title":"Get Guild Discovery Requirements","text":"<p>GET <code>/guilds/{guild.id}/discovery-requirements</code> Returns a guild requirements object</p>"},{"location":"manage_discovery_partnership/#get-guild-partnership-requirements","title":"Get Guild Partnership Requirements","text":"<p>GET <code>/partners/{guild.id}/requirements</code> Returns a guild requirements object</p>"},{"location":"manage_discovery_partnership/#guild-requirements-object","title":"Guild Requirements Object","text":"Field Type Description age bool is the guild old enough engagement_healthy bool do members visit and talk enough health_score health score object unknown health_score_pending bool is waiting on server activity metrics healthy bool are server activity requirements met nsfw_properties nsfw properties object channels with meanie words in them protected bool is 2FA enabled for moderators retention_healthy bool is member retention sufficient safe_environment bool if false, guild was flagged by Trust &amp; Safety size bool are there enough members in the guild sufficient bool are all requirements met sufficient_without_grace_period bool unknown minimum_age integer how many days old the guild must be minimum_size integer how many members the guild must have valid_rules_channel bool does the guild have a rules channel"},{"location":"manage_discovery_partnership/#nsfw-properties-object","title":"NSFW Properties Object","text":"Field Type Description channels array of snowflake channels with unacceptable names"},{"location":"manage_discovery_partnership/#health-score-object","title":"Health Score Object","text":"Field Type Description avg_nonnew_participants ? avg_nonnew_communicators ? num_intentful_joiners ? perc_ret_w1_intentful ?"},{"location":"member_verification/","title":"Member Verification","text":""},{"location":"member_verification/#member-verification-gate-and-guild-applications","title":"Member Verification Gate and Guild Applications","text":"<p>Guilds with the feature <code>MEMBER_VERIFICATION_GATE_ENABLED</code> require new members to verify themselves Guilds may also create forms that users submit in order to apply for access to a guild</p>"},{"location":"member_verification/#get-member-verification-gate","title":"Get Member Verification Gate","text":"<p>GET <code>/guilds/{guild.id}/member-verification</code> The official client adds parameters <code>with_guild=true</code> and <code>invite_code=</code> but these don't seem to do anything Returns a verfication gate info object or 204 No Content if there is no verification gate</p>"},{"location":"member_verification/#modify-member-verification-gate","title":"Modify Member Verification Gate","text":"<p>PATCH <code>/guilds/{guild.id}/member-verification</code> Request body is a partial verfication gate info object Returns a verfication gate info object</p>"},{"location":"member_verification/#verification-gate-info-object","title":"Verification Gate Info Object","text":"Field Type Description description? string description of the server form_fields? array of verification field objects list of fields version? timestamp string timestamp representing when the verification info was last updated enabled? bool seems to be present only in Modify Member Verification Gate"},{"location":"member_verification/#verification-field-object","title":"Verification Field Object","text":"Field Type Description field_type string type of field. see below label string label of the field required bool whether it is required to check the checkbox in order to submit response bool true to indicate the terms were accepted values array of string list of parameters for the field. see below"},{"location":"member_verification/#verification-field-type","title":"Verification Field Type","text":"Name Description TERMS \"Server Rules\" <code>values</code> is a list of a server rules TEXT_INPUT \"Short Answer\" <code>values</code> is unknown PARAGRAPH \"Paragraph\" <code>values</code> is unknown MULTIPLE_CHOICE \"Multiple Choice\" <code>values</code> is unknown VERIFICATION \"Connections\" <code>values</code> is unknown FILE_UPLOAD Not present in code; only a translation string"},{"location":"member_verification/#request-to-join-guild","title":"Request to Join Guild","text":"<p>PUT <code>/guilds/{guild.id}/requests/@me</code> Request body is the verification info object the user accepted Returns 201 Created and a guild application object on success</p>"},{"location":"member_verification/#guild-application-object","title":"Guild Application Object","text":"Field Type Description application_status string may be \"STARTED\", \"PENDING\", \"REJECTED\", or \"APPROVED\" created_at ?timestamp string timestamp when the application was created guild_id snowflake id of the guild being applied to last_seen ?timestamp unknown rejection_reason ?string reason for rejection (if rejected) user_id snowflake id of the user who created the application user? user object the user who created the request"},{"location":"member_verification/#guild-join-request-create-dispatch-event","title":"Guild Join Request Create Dispatch Event","text":"<p>Sent when a guild join request is created such as when joining a server with a verification gate. Structure appears to be the same as Guild Join Request Update Dispatch Event</p>"},{"location":"member_verification/#guild-join-request-update-dispatch-event","title":"Guild Join Request Update Dispatch Event","text":"<p>Sent when a guild join request is updated such as when accepting rules through the verification gate</p> Field Type status string see <code>application_status</code> above guild_id snowflake the guild the request is from request guild application object the new request"},{"location":"member_verification/#guild-join-request-delete-dispatch-event","title":"Guild Join Request Delete Dispatch Event","text":"<p>Sent when a request is deleted such as when leaving a server before completing the verification gate</p> Field Type user_id snowflake user who created the request guild_id snowflake guild the request is for"},{"location":"modify_guild/","title":"Modify Guild Extra Parameters","text":"<p>Original documentation</p> <p>Extra JSON parameters:</p> Field Type Description features array of features see below <p>The following features have been seen in Modify Guild:</p> <ul> <li>NEWS (sent along with DISCOVERABLE)</li> <li>COMMUNITY (sent when enabling community mode)</li> <li>DISCOVERABLE (sent when enabling guild discovery)</li> </ul> <p>Additionally, setting <code>system_channel_id</code>, <code>rules_channel_id</code>, or <code>public_updates_channel_id</code>, to 1 in this endpoint (at least when adding the \"COMMUNITY\" feature) will create new channels</p>"},{"location":"notes/","title":"User Notes","text":""},{"location":"notes/#get-user-note","title":"Get User Note","text":"<p>GET <code>/users/@me/notes/{user.id}</code></p> <p>Returns a user note object or a 404 if no note is set</p>"},{"location":"notes/#set-user-note","title":"Set User Note","text":"<p>PUT <code>/users/@me/notes/{user.id}</code> JSON parameters:</p> Field Type Description note string the note to assign to the user <p>Returns the new user note object</p>"},{"location":"notes/#user-note-update-dispatch-event","title":"User Note Update dispatch event","text":"<p>Sent whenever a user's note is updated</p> Field Type Description note string the note assigned to the user id snowflake the id of the user whose note has been updated"},{"location":"notes/#user-note-object","title":"User Note Object","text":"<p>Whether the fields are optional or can be null is unknown. In testing, they are always present and non-null</p> Field Type Description note string the note assigned to the user note_user_id snowflake the id of the user with the note user_id snowflake the id of the user who created the note (apparently always your own id)"},{"location":"profile/","title":"User Profiles","text":""},{"location":"profile/#get-user-profile","title":"Get User Profile","text":"<p>GET <code>/users/{user.id}/profile</code> Returns a user profile object or 404 if the user does not exist Note: a deleted guild can be returned in <code>mutual_guilds</code> (including the <code>nick</code> field), so do not assume all the guilds in <code>mutual_guilds</code> actually exist. The official client simply hides this information</p>"},{"location":"profile/#user-profile-object","title":"User Profile Object","text":"Field Type Description user user object the user whose profile was requested* ?premium_since string? timestamp of when the user first purchased nitro(?) ?premium_guild_since string? timestamp of when the user began boosting the guild connected_accounts array of connection objects list of the user's connected accounts mutual_guilds array of mutual guild objects list of mutual guilds between the requesting user and the requested user <p>* this user object may have extra fields such as profile customization information (see: Profile Customation)</p>"},{"location":"profile/#mutual-guild-object","title":"Mutual Guild Object","text":"Field Type Description id snowflake id of the guild ?nick string the requested user's nickname in the guild"},{"location":"profile/#connection-object","title":"Connection Object","text":"Field Type Description id string unique identifier for the user's connection on the service type string type of service the connection represents name string name of the user's connection. not necessarily unique verified bool if the user's connection has been verified"},{"location":"profile/#connection-types","title":"Connection Types","text":"<p>There may be more but this should be all of them</p> <ul> <li>battlenet</li> <li>facebook</li> <li>github</li> <li>reddit</li> <li>skype</li> <li>spotify</li> <li>steam</li> <li>twitch</li> <li>twitter</li> <li>xbox</li> <li>youtube</li> </ul>"},{"location":"ready_event/","title":"Ready Event Extra Fields","text":"Field Type Description guild_join_requests? array of guild application objects applications the user has made for guilds. used in verification gates required_action? string see required action type"},{"location":"ready_event/#required-action-type","title":"Required Action Type","text":"Type Description AGREEMENTS user must accept new terms of service REQUIRE_VERIFIED_EMAIL user must verify their email REQUIRE_VERIFIED_PHONE user must verify their phone REQUIRE_CAPTCHA user must complete a captcha"},{"location":"ready_supplemental/","title":"Ready Supplemental Event","text":"<p>This event appears to change every once in a while so these docs might be out of date (probably not) The ordering of the <code>merged_members</code> field appears to match that of the <code>guilds</code> array sent in the READY event</p> Field Type Description merged_presences merged presences object presences of friends and various users in guilds merged_members array of array of member objects various members in guilds guilds array appears to contain information regarding voice states lazy_private_channels array disclose array of string contains pomelo if the user should update their username"},{"location":"ready_supplemental/#merged-presences-object","title":"Merged Presences Object","text":"<p>Similar the READY_SUPPLEMENTAL's <code>guild_members</code> field, the <code>guilds</code> array's ordering appears to match that of the <code>guilds</code> array sent in the READY event</p> Field Type Description guilds array of objects similar to presence except <code>user_id</code> is always present and not <code>id</code> the presence of a user in a guild friends same as above the presence of a friend"},{"location":"relationships/","title":"User Relationships","text":""},{"location":"relationships/#get-user-relationships","title":"Get User Relationships","text":"<p>GET <code>/users/@me/relationships</code></p> <p>Returns an array of relationship objects with an extra key <code>type</code> representating the relationship type</p>"},{"location":"relationships/#send-friend-request-by-tag","title":"Send Friend Request by Tag","text":"<p>POST <code>/users/@me/relationships</code></p> <p>Returns a 204 on success</p> <p>JSON parameters:</p> Field Type Description username string the username discriminator int the discriminator"},{"location":"relationships/#send-friend-request-by-id-or-accept-friend-request","title":"Send Friend Request by ID or Accept Friend Request","text":"<p>PUT <code>/users/@me/relationships/{user.id}</code> Returns a 204 on success</p> <p>Request body must be <code>{}</code></p>"},{"location":"relationships/#remove-relationship","title":"Remove Relationship","text":"<p>DELETE <code>/users/@me/relationships/{user.id}</code> This is used for removing a friend or block, canceling an outgoing request, or ignoring an incoming request</p> <p>Returns a 204 on success</p>"},{"location":"relationships/#block-user","title":"Block User","text":"<p>PUT <code>/users/@me/relationships/{user.id}</code></p> <p>Returns a 204 on success</p> <p>Request body must be <code>{\"type\":2}</code></p>"},{"location":"relationships/#get-mutual-friends","title":"Get Mutual Friends","text":"<p>GET <code>/users/{user.id}/relationships</code> Returns an array of user objects</p>"},{"location":"relationships/#modify-friend-nickname","title":"Modify Friend Nickname","text":"<p>GET <code>/users/@me/relationships/{user.id}</code> Modifies the nickname of the friend Fires a RELATIONSHIP_UPDATE event containing a relationship object</p> <p>Returns 204 No Content on success</p> <p>JSON parameters:</p> Field Type Description nickname string? nickname for the friend"},{"location":"relationships/#relationship-type","title":"Relationship Type","text":"Type Value None 0 Friend 1 Blocked 2 Pending Incoming 3 Pending Outgoing 4 Implicit 5"},{"location":"relationships/#relationship-object","title":"Relationship Object","text":"Field Type Description id snowflake id of the user who the relationship is between type relationship type type of the relationship nickname string? the friend's nickname user? user object the user <p>Relationship objects can be found in the gateway READY event under the field <code>relationships</code></p>"},{"location":"remote_auth/","title":"Remote Auth (QR Code Login)","text":"<p>Remote auth lets you log into Discord on desktop by scanning a QR code on your phone.</p> <p>On desktop, Discord firsts open a WebSocket connection to <code>REMOTE_AUTH_ENDPOINT</code>, currently <code>wss://remote-auth-gateway.discord.gg/?v=2</code></p> Info <p>Unlike the normal Discord gateway, data fields do not belong to a <code>d</code> sub-object; all fields are at the top level, next to <code>op</code>. For example, the <code>hello</code> opcode looks like this:  <pre><code>{\n    \"op\": \"hello\",\n    \"timeout_ms\": 123456,\n    \"heartbeat_interval\": 41250\n}\n</code></pre></p> <p>On open, the gateway sends opcode <code>hello</code>.</p>"},{"location":"remote_auth/#hello","title":"<code>hello</code>","text":"Field Type Description timeout_ms integer milliseconds until the client should disconnect with <code>4003 Handshake Timeout</code> heartbeat_interval integer milliseconds interval for sending <code>heartbeat</code> ops <p>When the desktop receives <code>hello</code>, it uses the SubtleCrypto interface to generate a 2048-bit RSA key and encodes the public key in SubjectPublicKeyInfo format.</p> <p>The desktop then sends an opcode <code>init</code>.</p>"},{"location":"remote_auth/#init","title":"<code>init</code>","text":"Field Type Description encoded_public_key string base64-encoded public key <p>The gateway responds with opcode <code>nonce_proof</code>.</p>"},{"location":"remote_auth/#nonce_proof-server-to-client","title":"<code>nonce_proof</code> (Server to client)","text":"Field Type Description encrypted_nonce string base64-encoded encrypted nonce <p>The desktop decrypts it with its private key using OAEP and sends back a <code>nonce_proof</code>.</p>"},{"location":"remote_auth/#nonce_proof-client-to-server","title":"<code>nonce_proof</code> (Client to server)","text":"Field Type Description nonce string base64-encoded decrypted nonce <p>The gateway responds with <code>pending_remote_init</code> and then the next stop involves scanning the QR code.</p>"},{"location":"remote_auth/#pending_remote_init","title":"<code>pending_remote_init</code>","text":"Field Type Description fingerprint string <p>The QR code is generated using the string <code>https://discord.com/ra/{fingerprint}</code>.</p> <p>When a mobile device scans the QR code, it extracts the fingerprint from the url and makes a REMOTE_AUTH_INITIALIZE request.</p>"},{"location":"remote_auth/#remote_auth_initialize","title":"REMOTE_AUTH_INITIALIZE","text":""},{"location":"remote_auth/#post-usersmeremote-auth","title":"POST <code>/users/@me/remote-auth</code>","text":"Field Type Description fingerprint string fingerprint from the QR code <p>Return value:</p> Field Type Description handshake_token string temporary token to finalize login <p>After the mobile device makes this request, the remote auth gateway sends a <code>pending_ticket</code> to the desktop.</p>"},{"location":"remote_auth/#pending_ticket","title":"<code>pending_ticket</code>","text":"Field Type Description encrypted_user_payload string encrypted user payload described below"},{"location":"remote_auth/#encrypted-user-payload","title":"Encrypted user payload","text":"<p><code>&lt;user id&gt;:&lt;discriminator&gt;:&lt;avatar hash&gt;:&lt;username&gt;</code></p> <p>The mobile device then confirms the login request with a REMOTE_AUTH_FINISH request.</p>"},{"location":"remote_auth/#remote_auth_finish","title":"REMOTE_AUTH_FINISH","text":""},{"location":"remote_auth/#post-usersmeremote-authfinish","title":"POST <code>/users/@me/remote-auth/finish</code>","text":"Field Type Description handshake_token string token from REMOTE_AUTH_INITIALIZE temporary boolean false <p>After the mobile device sends a REMOTE_AUTH_FINISH, the gateway sends a <code>pending_login</code> to the desktop and the websocket is closed.</p>"},{"location":"remote_auth/#pending_login","title":"<code>pending_login</code>","text":"Field Type Description ticket string ticket to use for obtaining the token"},{"location":"remote_auth/#remote_auth_login","title":"REMOTE_AUTH_LOGIN","text":"<p>After getting the ticket, the desktop makes one last request to get the token</p>"},{"location":"remote_auth/#post-usersmeremote-authlogin","title":"POST <code>/users/@me/remote-auth/login</code>","text":"Field Type Description ticket string ticket from <code>pending_login</code> <p>Response:</p> Field Type Description encrypted_token string encrypted token, decrypted like everything else"},{"location":"remote_auth/#remote_auth_cancel","title":"REMOTE_AUTH_CANCEL","text":"<p>The mobile device can cancel a pending remote auth login by sending a REMOTE_AUTH_CANCEL. The desktop receives a <code>cancel</code> event.</p>"},{"location":"remote_auth/#post-usersmeremote-authcancel","title":"POST <code>/users/@me/remote-auth/cancel</code>","text":"Field Type Description handshake_token string token from REMOTE_AUTH_INITIALIZE"},{"location":"remote_auth/#cancel","title":"<code>cancel</code>","text":"<p>Received when the mobile device cancels a login request. There is no extra data for this op.</p>"},{"location":"role_member_counts/","title":"Get Role Member Counts","text":"<p>Retrieves the number of members with each role (roughly.)</p> <p>GET <code>/api/guilds/{guild.id}/roles/member-counts</code> Appears to require VIEW_AUDIT_LOG permission</p> <p>Returns JSON object where the key is the role ID and the value is the number of members </p> Example <p>Example (using the Discord API guild):  GET <code>https://discord.com/api/v9/guilds/81384788765712384/roles/member-counts</code> <pre><code>{\n  \"585569508501094449\": 14,\n  \"159592059873787904\": 45,\n  \"254077236989132800\": 7,\n  \"187053776920641536\": 420,\n  \"233981945279807488\": 33\n  trimmed...\n}\n</code></pre></p>"},{"location":"search/","title":"Search Messages","text":""},{"location":"search/#search-for-messages-in-a-guild","title":"Search for messages in a guild","text":"<p>GET <code>/guilds/{guild.id}/messages/search</code></p>"},{"location":"search/#search-for-messages-in-a-dm","title":"Search for messages in a DM","text":"<p>GET <code>/channels/{channel.id}/messages/search</code></p> <p>Returns search results object or a 202 Accepted with response code 110000 (Index not yet available. Try again later) if the guild/channel is not indexed</p> <p>GET parameters:</p> Field Type Description content string term to search for offset? integer offset into search results channel_id? snowflake channel to restrict search to author_id? snowflake author to restrict search to mentions? snowflake restrict search to mentions of given user has? string \"link\", \"embed\", or \"file\" max_id? snowflake maximum id of the search results. used for <code>before:</code> min_id? snowflake minimum id of the search results. used for <code>after:</code> sort_by? string relevance or timestamp sort_order? string desc or asc include_nsfw? boolean include NSFW results"},{"location":"search/#search-results-object","title":"Search Results Object","text":"Field Type Description analytics_id(?) string unknown messages array of message objects messages matching search query total_results integer"},{"location":"slash_commands/","title":"Slash Commands","text":""},{"location":"slash_commands/#query-application-commands","title":"Query Application Commands","text":"<p>Opcode 24 is used to request the application commands in a guild. The gateway will respond with a <code>GUILD_APPLICATION_COMMANDS_UPDATE</code> JSON parameters:</p> Field Type Description guild_id snowflake guild to request application commands for applications bool should the applications field be sent nonce string unique value to differentiate responses. discord uses an incrementing number offset int offset into list of commands limit int max commands (discord uses 10) application_id? ? ?"},{"location":"slash_commands/#guild_application_commands_update","title":"GUILD_APPLICATION_COMMANDS_UPDATE","text":"Field Type Description nonce string nonce sent in the request updated_at unix timestamp ? guild_id snowflake guild the response is for applications array of application objects all applications for which there are commands application_commands array of ApplicationCommand with additional undocumented fields the application commands"},{"location":"slash_commands/#application-object","title":"Application Object","text":"Field Type Description bot user the bot managing the commands command_count int number of commands icon string icon hash id snowflake id of the application. can be equal to the bot's id name string name of the application. usually the same as the bot's username"},{"location":"slash_commands/#application-command-object","title":"Application Command Object","text":"<p>Undocumented fields for ApplicationCommand</p> Field Type Description version snowflake unknown permission array of ApplicationCommandPermissions (probably) permissions for the command"},{"location":"threads/","title":"Threads","text":"<p>Threads are officially documented but there are some differences between the documentation designed for bot developers and what the client actually does</p>"},{"location":"threads/#member-list","title":"Member List","text":"<p>The client sends an Opcode 14 Lazy Request when a thread is opened:</p> Field Type Description guild_id snowflake guild the thread is in thread_member_lists array of snowflake threads to receive member list updates for"},{"location":"threads/#thread-member-list-update","title":"Thread Member List Update","text":"<p>This is sent to the client in response to the above request. THREAD_MEMBERS_UPDATE and THREAD_MEMBER_UPDATE are sent as documented to update the list</p> Field Type Description thread_id snowflake thread for which members are being sent guild_id snowflake guild the thread is in members array of member objects current members of the thread"},{"location":"threads/#thread-objects-extra-fields","title":"Thread Objects (extra fields)","text":"Field Type Description member_ids_preview array of snowflake contains a few ids of members for preview purposes"},{"location":"threads/#thread-list-sync-extra-fields","title":"Thread List Sync (extra fields)","text":"<p>Thread List Sync appears to always be sent when opening a channel as part of the lazy load request. It also seems to always send the status of the entire guild and never just specific channels</p> Field Type Description most_recent_messages(?) array of message objects contains a few messages for preview purposes"},{"location":"update_guild_mfa_level/","title":"Update Guild MFA Level","text":"<p>POST <code>/guilds/{guild.id}/mfa</code> Modify the MFA level of a guild. Can only be performed by the guild's owner</p> <p>JSON parameters:</p> Field Type Description level integer 0 to disable MFA requirement, 1 to enable"},{"location":"user_guild_settings/","title":"User Guild Settings","text":"<p>Per-guild user settings</p>"},{"location":"user_guild_settings/#user-guild-settings-object","title":"User Guild Settings object","text":"Field Type Description entries array of user guild settings entry objects entries for each guild partial bool version integer seems to increment for every update"},{"location":"user_guild_settings/#user-guild-settings-entry-object","title":"User Guild Settings Entry Object","text":"Field Type Description channel_overrides array of channel override objects overrides for specific channels flags onboarding guild flags used for community onboarding guild_id ?snowflake the id of the guild this entry is for, or null for private channels hide_muted_channels bool message_notifications message notifications level mobile_push bool send push notifications for this guild mute_config mute configuration object used for mute for n minutes feature mute_scheduled_events bool muted bool is the guild currently muted notify_highlights bool suppress_everyone bool don't notify for @everyone suppress_roles bool don't notify for @roles version integer seems to increment for every update"},{"location":"user_guild_settings/#channel-override-object","title":"Channel Override Object","text":"Field Type Description channel_id snowflake the id for the channel this entry is for collapsed bool flags onboarding channel flags used for community onboarding message_notifications message notifications level mute_config mute configuration object used for mute for n minutes feature muted bool is the channel currently muted"},{"location":"user_guild_settings/#mute-configuration-object","title":"Mute Configuration Object","text":"Field Type Description end_time ?ISO-8601 timestamp when the mute ends selected_time_window integer how many seconds the mute is for. -1 for forever"},{"location":"user_guild_settings/#message-notifications-level","title":"Message Notifications Level","text":"Key Value Description ALL_MESSAGES 0 receive notifications for all messages ONLY_MENTIONS 1 receive notifications only for messages that @mention the user NO_MESSAGES 2 don't receive notifications for any messages NULL 3 use the parent's notification settings. e.g. a channel should use the notification level of its parent category"},{"location":"user_guild_settings/#onboarding-guild-flags","title":"Onboarding Guild Flags","text":"Key Value Description UNREADS_ALL_MESSAGES 2048 UNREADS_MENTIONS_AND_HIGHLIGHTS 4096 OPT_IN_CHANNELS_OFF 8192 OPT_IN_CHANNELS_ON 16384"},{"location":"user_guild_settings/#onboarding-channel-flags","title":"Onboarding Channel Flags","text":"Key Value Description UNREADS_MENTIONS_AND_HIGHLIGHTS 512 UNREADS_ALL_MESSAGES 1024 FAVORITED 2048 OPT_IN_ENABLED 4096 NEW_FORUM_THREADS_OFF 8192 NEW_FORUM_THREADS_ON 16384"},{"location":"voice_channel_effects/","title":"Voice channel effects","text":""},{"location":"voice_channel_effects/#voice-channel-effects","title":"Voice Channel Effects","text":"<p>Voice channel effects are emojis that you can spam all over people's screens when they're tabbed into voice chat because that's a great feature I guess.</p>"},{"location":"voice_channel_effects/#voice-channel-effect-send-dispatch-event","title":"Voice Channel Effect Send Dispatch Event","text":"Field Type Description user_id snowflake user who sent the effect emoji emoji object the sent emoji channel_id snowflake channel the effect was sent to guild_id snowflake guild the channel belongs to"},{"location":"voice_channel_effects/#send-voice-channel-effect","title":"Send Voice Channel Effect","text":"<p>POST <code>/channels/{channel.id}/voice-channel-effects</code> Returns 204 No Content on success</p> <p>JSON parameters:</p> Field Type Description emoji_name string name of the emoji or actual emoji if Unicode emoji_id snowflake id of the emoji or null if Unicode"},{"location":"voice_gateway_opcodes/","title":"Voice Gateway Opcodes","text":"Opcode Name Documented Client Action Description 0 IDENTIFY \u2705 Send See official docs 1 SELECT_PROTOCOL \u2705 Send See official docs 2 READY \u2705 Receive See official docs 3 HEARTBEAT \u2705 Send See official docs 4 SELECT_PROTOCOL_ACK \u2705 Receive See official docs 5 SPEAKING \u2705 Send/Receive See official docs 6 HEARTBEAT_ACK \u2705 Receive See official docs 7 RESUME \u2705 Send See official docs 8 HELLO \u2705 Receive See official docs 9 RESUMED \u2705 Receive See official docs 12 VIDEO \u274c Used for when users enable their camera 13 CLIENT_DISCONNECT \u2705 Receive See official docs 14 SESSION_UPDATE \u274c 15 MEDIA_SINK_WANTS \u274c Receive 16 VOICE_BACKEND_VERSION \u274c Send/Receive 17 CHANNEL_OPTIONS_UPDATE \u274c Receive 18 FLAGS \u274c Receive Per-user voice flags 19 SPEED_TEST \u274c Receive 20 PLATFORM \u274c Receive Per-user platform information 21 SECURE_FRAMES_PREPARE_PROTOCOL_TRANSITION \u274c Receive 22 SECURE_FRAMES_EXECUTE_TRANSITION \u274c Receive 23 SECURE_FRAMES_READY_FOR_TRANSITION \u274c 24 SECURE_FRAMES_PREPARE_EPOCH \u274c Receive 25 MLS_EXTERNAL_SENDER_PACKAGE \u274c Receive 26 MLS_KEY_PACKAGE \u274c 27 MLS_PROPOSALS \u274c Receive 28 MLS_COMMIT_WELCOME \u274c 29 MLS_PREPARE_COMMIT_TRANSITION \u274c Receive 30 MLS_WELCOME \u274c Receive"},{"location":"voice_gateway_opcodes/#flags","title":"FLAGS","text":"Field Type Description user_id snowflake user the flags apply to flags voice flags flags"},{"location":"voice_gateway_opcodes/#voice-flags","title":"Voice Flags","text":"Key Value Description 1 &lt;&lt; 0 CLIPS_ENABLED 1 &lt;&lt; 1 ALLOW_VOICE_RECORDING 1 &lt;&lt; 2 ALLOW_ANY_VIEWER_CLIPS"},{"location":"voice_gateway_opcodes/#platform","title":"PLATFORM","text":"<p>description is a guess</p> Field Type Description user_id snowflake user to set platform for platform platform type their platform"},{"location":"voice_gateway_opcodes/#platform-type","title":"Platform Type","text":"Key Value 0 DESKTOP 1 MOBILE 2 XBOX 3 PLAYSTATION"},{"location":"welcome_screen/","title":"Welcome Screen","text":""},{"location":"welcome_screen/#get-welcome-screen","title":"Get Welcome Screen","text":"<p>GET <code>/guilds/{guild.id}/welcome-screen</code></p> <p>Returns a welcome screen object or 204 No Content if there is none set</p>"},{"location":"welcome_screen/#modify-welcome-screen","title":"Modify Welcome Screen","text":"<p>PATCH <code>/guilds/{guild.id}/welcome-screen</code> Request body is a welcome screen object</p> <p>Returns a new welcome screen object on success</p>"}]}